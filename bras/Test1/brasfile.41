puts "msg: SearchPath, make bla.o in build from ../unix/bla.y via bla.c"

puts "expect: rm -rf build unix"
puts "expect: mkdir -p build unix"
puts "expect: touch unix/bla.y"
puts "expect: cd /home1/kir/work/bras/Test1/build"
puts "expect: cp ../unix/bla.y bla.c"
puts "expect: cp bla.c bla.o"
puts "expect: cd /home1/kir/work/bras/Test1"
puts "expect: rm -rf build unix"


exec rm -rf build unix
exec mkdir -p build unix
exec touch unix/bla.y

PatternNewer .*\.o .c {
  cp $trigger $target
}
PatternNewer .*\.c .y {
  cp $trigger $target
}

## This rule forwards us to subdirectory build. The rules to obey
## therein are declared below.
Always all @build/all {
  rm -rf build unix
}

## Change do build directory. The rules to obey therein a listed
## below.
cd build

searchpath {. ../unix}

Always all bla.o {
}

## for completeness
cd ..
