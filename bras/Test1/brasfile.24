puts "msg: Sourcing dependency file generated by C compiler"
puts "expect: {Newer A.c A.h b.h c.h d.h e.h x.h y.h z.h}"
puts "expect: {Newer B.c B.h}"


## We generate the dependency file ourselves, because you really never
## know, how to call a C compiler
set out [open .depend w]
puts $out "\
A.o: A.c A.h b.h \\
     c.h d.h e.h
A.o: x.h y.h z.h

B.o: B.c B.h
B.o: /usr/local/stdio.h
"
close $out

Command {A.c A.h b.h c.h d.h e.h x.h y.h z.h B.c B.h} {}

# Now source it
sourceDeps .depend /usr/local
exec rm -f .depend

puts $brasTinfo([array names brasTinfo A.o*pred])
puts $brasTinfo([array names brasTinfo B.o*pred])

